# ライフサイクル
## ライフサイクルとは
- コンポーネントが生まれてから破棄されるまでの時間の流れ
- ライフサイクルメソッドを使うと、その時点に応じた処理を実行できる
- Class Component時代は以下の3メソッドが頻出だった
  - componentDidMount()
  - componentDidUpdate()
  - componentWillUnmount()
- Hooks時代はuseEffectでライフサイクルを表現

## 3種類のライフサイクル
- Mounting
  - コンポーネントが配置される（生まれる）期間
  - 初期化 - レンダリング - マウント後の処理
- Updating
  - コンポーネントが変更される（成長する）期間
  - レンダリング - 更新後の処理
- Unmounting
  - コンポーネントが破棄される（死ぬ）期間
  - アンマウント前の処理

## 副作用(effect)フックを使おう
- 関数コンポーネントでは`useEffect`という副作用フックを使う
- 副作用 = レンダリングによって引き起こされる処理
  - レンダリングされるたびに処理を動かしたいときに`useEffect`を使用する

## 第二引数の依存関係を理解する
- useEffectの第二引数には配列を渡すことが可能
- 第二引数はdeps(dependencies)と呼ばれ、副作用が引き起こされるかどうかの依存関係となる

## クリーンアップを理解する
- コンポーネント内で外部データベースを購読したい（購読とはDBの値を監視して、何か変更があったらコンポーネントに変更を適用したい）
- useEffect内で購読する処理を呼び出す
- 必要なくなったらクリーンアップ関数を使って掃除する
- useEffectの中でreturnを実施する（関数をreturnする）
- クリーンアップは必ず際レンダリングが実行される直前に実行される